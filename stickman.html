<!DOCTYPE html> 
<html class="no-js">
<head>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script> 
<script type="text/javascript">

function StickMan(startX, startY){
    this.startX = startX;
    this.startY = startY;
    this.headSize = 30;
    this.bodyLength = 120;
    this.pelvisX = startX;
    this.pelvisY = startY+this.bodyLength;
    this.stride = 50;
    this.armLength = this.bodyLength/2;


}

function StickManRenderer(context) {
    this.context = context;
}

StickManRenderer.prototype.drawHead = function(context, stickMan) {
    context.beginPath();
    context.arc(stickMan.startX, stickMan.startY, stickMan.headSize, 0, Math.PI * 2, true);
    context.closePath();
}

StickManRenderer.prototype.drawBody = function(context,stickMan) {
    context.moveTo(stickMan.startX, stickMan.startY + stickMan.headSize);
    context.lineTo(stickMan.pelvisX, stickMan.pelvisY);
}
StickManRenderer.prototype.drawRightLeg = function(context, stickMan) {
    context.lineTo(stickMan.pelvisX - stickMan.stride, stickMan.pelvisY + stickMan.bodyLength);
}

StickManRenderer.prototype.drawLeftLeg = function(context, stickMan) {
    context.moveTo(stickMan.pelvisX, stickMan.pelvisY)
    context.lineTo(stickMan.pelvisX + stickMan.stride, stickMan.pelvisY +stickMan.bodyLength);
}

StickManRenderer.prototype.drawArms = function(context, stickMan) {
    context.moveTo(stickMan.startX - stickMan.armLength, stickMan.startY + (stickMan.bodyLength / 2));
    context.lineTo(stickMan.startX + stickMan.armLength, stickMan.startY + (stickMan.bodyLength / 2));
}

StickManRenderer.prototype.drawStickMan = function(stickMan) {

    this.context.moveTo(stickMan.startX, stickMan.startY);
    this.context.strokeStyle = "#000000";
    this.context.lineWidth = "5.0";
    this.drawHead(this.context, stickMan);
    this.drawBody(this.context, stickMan);
    this.drawRightLeg(this.context, stickMan);
    this.drawLeftLeg(this.context, stickMan);
    this.drawArms(this.context, stickMan);
    this.context.stroke();
  
}








function draw(){
    var graphCanvas = document.getElementById('graphSpace');
    var context = graphCanvas.getContext('2d');
    var renderer = new StickManRenderer(context);
    var startX=100,
        startY=175;

    var stickMan = new StickMan(startX, startY);
    renderer.drawStickMan(stickMan);

    drawSpeechBubble(startX+35,startY-35,context);
    startX=500;
    stickMan = new StickMan(startX, startY);
    renderer.drawStickMan(stickMan);
    
}





function drawSpeechBubble(startX, startY, context){
    context.lineWidth="2.0";
       
     var startRadians=radians(90),
         endRadians=radians(0);

    drawStalk(startRadians,endRadians,50);
    startY=startY-50;
    endRadians = radians(30);
    drawStalk(startRadians,endRadians,100);
    drawBubble(70);

    function drawStalk(startAngle, endAngle, radius){
        context.beginPath();
        context.arc(startX,startY, radius, startAngle, endAngle ,true);
        context.stroke();
    }

    function drawBubble(radius){
        context.beginPath();
        context.arc(startX+70,startY-18, radius, radians(75), radians(105) ,true);
        context.stroke();
    }

}






function radians(degrees){
     return (Math.PI/180)*degrees;
}
</script>
</head>
<body onLoad="draw();">
<canvas id="graphSpace" width="800" height="400"></canvas>
</div>
</body>
</html>
